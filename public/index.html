<!DOCTYPE html>
<html>

	<head>
		<title> chatroom </title>
		
		<meta charset='utf-8'> 
		<meta name='description' content='chat room '> 
		<meta name='viewport' content='width=device-width'> 

		<!-- jQuery -->
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>


		<!-- AngularJS -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
		<script src="js/app.js"></script>


	    <!-- BOOTSTRAP CDN --> 
	    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'> 
	    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css'> 
	    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js'></script> 
	    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>


	</head>


	<body ng-app="chatroomApp" ng-controller="testCtrl as test">


		<form>
	    	<input type="text" id="inputMsg" />
	    	<input type="submit" />
	    </form>

		<h3> {{test.greet}}</h3>


		<table id="outputMsg" class="table table-striped">
			<tr>
				<td> Chat messages</td>
			</tr>
			<tr>
				<td> <hr> </td>
			</tr>
		</table>


	<script src="https://cdn.socket.io/socket.io-1.2.0.js"> </script>


	<script>

		var socket = io();
		$('form').submit(function(){

		   socket.emit('test', $('#inputMsg').val());
		   socket.emit('test2', $('#inputMsg').val().concat('2'));

		   $('#inputMsg').val(''); //reset the input field to empty string

		   return false;
		 });


		socket.on('test', function(msg) {
			$('#outputMsg').append("<tr><td>" + msg + "</td></tr>");
		})



	</script>
	</body>

</html>